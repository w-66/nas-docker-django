{% extends 'tplt_init.html'%}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'vditor/3.9.1/css/index.min.css'%}">

<style>
  .vditor-reset--anchor {
    padding-left: 0px;
  }
</style>
{% endblock %}
{% block js %}
<!-- 只渲染 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/vditor/3.9.1/method.min.js"
  integrity="sha512-Svg4kRegVH4xym5HLd/Q/h1RhZcbah7m/xJapksFXWhsQrv3lTD/LLgHZOV5cHujVebGtqtML5BzKP3aAGpcug=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>

{% comment %}
<script src="https://b3log.org/vditor/vditor.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vditor@3.8.12/dist/index.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vditor/3.9.1/index.min.js"
  integrity="sha512-4R4+lcMACo1BXAEcmd8G9pz7pw+UJZreXNB40hl/42I/5BZaroXyjEQo3aJOyQgvEa/oQiSPNAdcwhQi6Lw5KQ=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/vditor@3.8.12/dist/js/i18n/zh_CN.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vcmt@1.3.1/dist/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vditor@3.8.12/dist/js/lute/lute.min.js"></script>


<script src="https://b3log.org/vditor/vditor.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vditor@3.8.12/dist/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vditor@3.8.12/dist/js/highlight.js/highlight.pack.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vditor@3.8.12/dist/js/i18n/zh_CN.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vcmt@1.3.1/dist/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vditor@3.8.12/dist/js/lute/lute.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vditor@3.8.12/dist/js/icons/ant.js"></script> {% endcomment %}
<!-- 实例编辑器方式1 -->
{% comment %}
<script>

  Vditor.preview(document.getElementById('preview'), '{{ md_content|safe }}',
    {
      anchor: 1,
      theme: {
        current: 'dark',
        path: '/static/vditor/css/content-theme',
        markdown: {
          toc: true
        }
      },
      hljs: {
        // 开启行号
        lineNumber: true,
        // 代码块主题
        style: "native",
      },
    }
  )
</script>
{% endcomment %}

<!-- 实例编辑器方式2 -->
<script>

  vditorScript = () => {
    const vditor = new Vditor.preview(document.getElementById('preview'), `{{ md_content|safe }}`,
      {
        anchor: 1,
        theme: {
          current: 'light',
          path: '/static/vditor/css/content-theme',
          markdown: {
            toc: true
          }
        },
        hljs: {
          // 开启行号
          lineNumber: true,
          // 代码块主题
          style: "native",
        },
      })
    // ---

    // 设置 动态主题颜色
    // 读取复选框的状态
    // ---
  }
  vditorScript()

  // ---


</script>

{% endblock %}

{%block bodyContent%}
{% include 'navbar.html' %}

<div class="container-md">
  <div class="row mt-3">

    <div class="col-md-1">
      123
    </div>
    <div class="col-md-11">
      <div class="h1">{{md_title}}</div>
      <hr>
      <div id="preview"></div>

    </div>
  </div>
</div>
{% endblock %}